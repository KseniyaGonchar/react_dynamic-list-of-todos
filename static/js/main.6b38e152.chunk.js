(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{11:function(e,t,c){},12:function(e,t,c){"use strict";c.r(t);var s=c(3),a=c.n(s),l=c(1),n=(c(8),c(9),c(0));const d=e=>{let{todos:t,selectedTodoId:c,onSelect:s=(()=>{})}=e;return Object(n.jsxs)("table",{className:"table is-narrow is-fullwidth",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"#"}),Object(n.jsx)("th",{children:Object(n.jsx)("span",{className:"icon",children:Object(n.jsx)("i",{className:"fas fa-check"})})}),Object(n.jsx)("th",{children:"Title"}),Object(n.jsx)("th",{children:" "})]})}),Object(n.jsx)("tbody",{children:t.map((e=>Object(n.jsxs)("tr",{"data-cy":"todo",className:"",children:[Object(n.jsx)("td",{className:"is-vcentered",children:e.id}),e.completed?Object(n.jsx)("td",{className:"is-vcentered",children:Object(n.jsx)("span",{className:"icon","data-cy":"iconCompleted",children:Object(n.jsx)("i",{className:"fas fa-check"})})}):Object(n.jsx)("td",{className:"is-vcentered"}),Object(n.jsx)("td",{className:"is-vcentered is-expanded",children:e.completed?Object(n.jsx)("p",{className:"has-text-success",children:e.title}):Object(n.jsx)("p",{className:"has-text-danger",children:e.title})}),Object(n.jsx)("td",{className:"has-text-right is-vcentered",children:e.id===c?Object(n.jsx)("button",{onClick:()=>s(null),"data-cy":"selectButton",className:"button",type:"button",children:Object(n.jsx)("span",{className:"icon",children:Object(n.jsx)("i",{className:"far fa-eye-slash"})})}):Object(n.jsx)("button",{onClick:()=>s(e),"data-cy":"selectButton",className:"button",type:"button",children:Object(n.jsx)("span",{className:"icon",children:Object(n.jsx)("i",{className:"far fa-eye"})})})})]},e.id)))})]})};let i;!function(e){e.All="all",e.Active="active",e.Completed="completed"}(i||(i={}));const o=e=>{let{query:t,setQuery:c,onFilterChange:s}=e;return Object(n.jsxs)("form",{className:"field has-addons",children:[Object(n.jsx)("p",{className:"control",children:Object(n.jsx)("span",{className:"select",children:Object(n.jsxs)("select",{"data-cy":"statusSelect",onChange:e=>{s(e.target.value)},children:[Object(n.jsx)("option",{value:i.All,children:"All"}),Object(n.jsx)("option",{value:i.Active,children:"Active"}),Object(n.jsx)("option",{value:i.Completed,children:"Completed"})]})})}),Object(n.jsxs)("p",{className:"control is-expanded has-icons-left has-icons-right",children:[Object(n.jsx)("input",{"data-cy":"searchInput",type:"text",className:"input",placeholder:"Search...",value:t,onChange:e=>{c(e.target.value)}}),Object(n.jsx)("span",{className:"icon is-left",children:Object(n.jsx)("i",{className:"fas fa-magnifying-glass"})}),t&&Object(n.jsx)("span",{className:"icon is-right",style:{pointerEvents:"all"},children:Object(n.jsx)("button",{"data-cy":"clearSearchButton",type:"button",className:"delete",onClick:()=>c("")})})]})]})};c(11);const j=()=>Object(n.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(n.jsx)("div",{className:"Loader__content"})});function r(e){const t="https://mate-academy.github.io/react_dynamic-list-of-todos/api"+e+".json";return(c=300,new Promise((e=>{setTimeout(e,c)}))).then((()=>fetch(t))).then((e=>e.json()));var c}const b=e=>{let{todo:t,onCloseTodoModal:c}=e;const[s,a]=Object(l.useState)(null),[d,i]=Object(l.useState)(!1);return Object(l.useEffect)((()=>{var e;i(!0),(e=t.userId,r("/users/".concat(e))).then(a).finally((()=>i(!1)))}),[t.userId]),Object(n.jsxs)("div",{className:"modal is-active","data-cy":"modal",children:[Object(n.jsx)("div",{className:"modal-background"}),d?Object(n.jsx)(j,{}):Object(n.jsxs)("div",{className:"modal-card",children:[Object(n.jsxs)("header",{className:"modal-card-head",children:[Object(n.jsx)("div",{className:"modal-card-title has-text-weight-medium","data-cy":"modal-header",children:"Todo #".concat(t.id)}),Object(n.jsx)("button",{type:"button",className:"delete","data-cy":"modal-close",onClick:()=>{c(null)}})]}),Object(n.jsxs)("div",{className:"modal-card-body",children:[Object(n.jsx)("p",{className:"block","data-cy":"modal-title",children:t.title}),Object(n.jsxs)("p",{className:"block","data-cy":"modal-user",children:[t.completed?Object(n.jsx)("strong",{className:"has-text-success",children:"Done"}):Object(n.jsx)("strong",{className:"has-text-danger",children:"Planned"})," by ",Object(n.jsx)("a",{href:"mailto:".concat(null===s||void 0===s?void 0:s.name),children:null===s||void 0===s?void 0:s.name})]})]})]})]})},h=()=>{const[e,t]=Object(l.useState)([]),[c,s]=Object(l.useState)(""),[a,h]=Object(l.useState)(i.All),[m,x]=Object(l.useState)(!1),[O,u]=Object(l.useState)(null);Object(l.useEffect)((()=>{x(!0),r("/todos").then(t).finally((()=>x(!1)))}),[]);const N=((e,t)=>{let s=[...e];if(t!==i.All&&(s=t!==i.Active?s.filter((e=>e.completed)):s.filter((e=>!e.completed))),c){const e=c.trim().toLowerCase();s=s.filter((t=>t.title.toLowerCase().includes(e)))}return s})(e,a);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"section",children:Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"box",children:[Object(n.jsx)("h1",{className:"title",children:"Todos:"}),Object(n.jsx)("div",{className:"block",children:Object(n.jsx)(o,{query:c,setQuery:s,onFilterChange:h})}),Object(n.jsxs)("div",{className:"block",children:[m&&Object(n.jsx)(j,{}),!m&&e.length>0&&Object(n.jsx)(d,{todos:N,selectedTodoId:null===O||void 0===O?void 0:O.id,onSelect:u})]})]})})}),O&&Object(n.jsx)(b,{todo:O,onCloseTodoModal:u})]})};a.a.render(Object(n.jsx)(h,{}),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.6b38e152.chunk.js.map